# 정의 및 특징

## **1. 액션**

### 정의

- 외부에 영향을 주거나 받는 것
- 실행 시점과 횟수에 의존한다.
- Side-Effects (부수효과), 순수하지 않은 함수라고 부른다.
- ex. 이메일 보내기, DB 읽기

### 구현 방법

- **함수**로 구현

### 유의점

1. 가능한 액션을 적게 사용하기
2. 가능한 작게 만들기
   1. 액션 내부에서 액션과 관계없는 코드는 모두 제거하기
3. 내부에는 계산과 데이터만 있고, 가장 바깥쪽에 액션이 있는 구조가 이상적이다.
4. 액션이 호출 시점에 의존하는 것을 제한하기

## **2. 계산**

### 정의

- 입력값으로 출력값을 만드는 것
- 실행 시점, 횟수와 관계없이 항상 같은 입력값에 대해 같은 출력값을 반환한다.
- Pure Function (순수함수), 수학함수 라고 부른다.
  - Referentially Transparent (참조 투명): 실행 결과는 항상 동일하므로 여러번 불러도 상관없다.
- ex. 최댓값 찾기, 이메일 주소 올바른지 확인하기

### 구현 방법

- **함수**로 구현

### 장점

- 액션보다 계산이 좋은 이유
  1. 테스트가 쉽다.
  2. 기계적 분석 (자동화 분석)이 쉽다.
  3. 조합이 쉽다. 계산끼리 조합하여 더 큰 계산을 만들 수 있다.
- 동시에 실행되어도 문제가 없다.
- 과거에 실행됐거나, 미래에 실행될것에 대해 고려하지 않아도 된다.
- 실행 횟수와 관계없다.

### 단점

- 계산과 액션은 실행하기 전에 어떤 일이 발생했는지 알 수 없다.
  - 오직 입력값으로 **실행을 해야만 결과를 알 수 있다.**
    → 이게 싫다면 데이터를 사용하기!

## **3. 데이터**

### 정의

- 이벤트에 대한 사실
- 일어난 일의 결과를 기록한 것
- ex. 사용자가 입력한 이메일 주소, 은행 API 로 읽은 달러 수량

### 구현 방법

- JS 에서는 기본 **데이터 타입 (숫자, 문자, 배열, 객체)** 로 구현한다.
- 데이터의 **구조**로 의미를 담아서 도메인을 표현한다.
  - ex. 목록의 순서가 중요한 데이터 → 순서를 보장하는 데이터 구조를 사용

### **불변성**

- 불변 데이터 구조를 만들기 위한 2가지 원칙
  1. Copy on write: 변경할 때 복사본을 만든다.
  2. Defensive copy (방어적 복사): 보관하려고 하는 데이터의 복사본을 만든다.

### 장점

1. 직렬화: **직렬화된 데이터**는 전송하거나 디스크에 저장했다가 읽기 쉽다.
2. 동일성 비교: 액션, 계산은 서로 비교하기 어려운 반면 데이터는 **비교가 쉽다.**
3. 자유로운 해석: 여러가지 방법으로 해석 가능하다.

### 단점

- 해석이 반드시 필요하다는 점. 해석하지 않은 데이터는 무쓸모하다.

---

# 활용법

- 액션, 계산, 데이터는 어디에나 적용할 수 있다.
- 액션 안에는 또다른 액션, 계산, 데이터가 숨어있을 수 있으므로,
  함수형 프로그래밍에서는 **액션을 적절한 크기의 더 작은 액션, 계산, 데이터로 나누는 것**이 중요하다.
- **계산 = 더 작은 계산 + 데이터**로 나누고 연결할 수 있다.
- 데이터는 데이터만 조합할 수 있다.

---

# 함수형 프로그래밍 구현 순서

**데이터 → 계산 → 액션 순서**로 구현한다.
